<html><meta http-equiv="content-type" content="text/html; charset=utf-8">

<script src="https://cdn.steemjs.com/lib/latest/steem.min.js"></script>

	 <h3>Робот самоапарь для БЧ Golos.io</h3>
	 <em>Размещает комментарии под постами и апвоутит эти комментарии.<br>Робот активен когда эта страница открыта в браузере.</em><p></p>
<p>Account: <input placeholder="Без знака @" type="textbox" id="user" style="width:140px; height:20px"></p>
<p>Key: <input placeholder="Приватный постинг ключ" type="textbox" id="key" style="width:340px; height:20px"></p>
<p>Link: <input placeholder="Ссылка на пост" type="textbox" id="permlnk" style="width:340px; height:20px"></p>
<p>Text: <input placeholder="Любой текст" type="textbox" id="text_comment" style="width:340px; height:20px"></p>
<p>Timer: <input placeholder="секунд" type="textbox" id="timer" style="width:60px; height:20px"></p>
<p><input type="button" id="stat" value="Поехали!"style="width:70px; height:20px"></p>

<script>
steem.api.setOptions({ url: 'wss://ws.golos.io' });
steem.config.set('address_prefix','GLS');
steem.config.set('chain_id','782a3039b478c839e4cb0c941ff4eaeb7df40bdd68bd441afd444b9da763de12');
document.getElementById('stat').onclick = function() {
ins('Робот активирован: '+new Date());;
var account=document.getElementById("user").value;
//var account='ваш аккаунт без @';
var wif =document.getElementById("key").value;
//var wif = 'ваш приватный постинг ключ';
var link=document.getElementById("permlnk").value;
var interlived=document.getElementById("timer").value;
var timerId = setInterval(function() {
posting();

}, +interlived*1000);

function posting(){
var dt_now = Math.round(Date.now()/1000);
var parent_author=link.split('@')[1].split('/')[0]; 
var parent_permlink=link.split('@')[1].split('/')[1];
var author=account; 
var permlink='re-'+parent_author+'-'+parent_permlink+dt_now;
var post_body=document.getElementById("text_comment").value+' ';
var title ='';
var jsonMetadata = {};
var percent=10000;	
steem.broadcast.comment(wif,parent_author,parent_permlink,author,permlink,title,post_body,jsonMetadata,function(err, result) {
if(err){console.log(err); } else {
steem.broadcast.vote(wif, account, author, permlink, percent, function(err, result) {
if(err){console.log(err); }  else {ins('Комментарий опубликован, апвоут поставлен: '+new Date());
  }
});
}
});

};
};
ins = function(x){
 document.getElementById('out').insertAdjacentHTML('beforeend', '<p class="item">' + x + '</p>');
 window.scrollTo(0,document.body.scrollHeight);
 }
</script>
<p><b id="out"></b></p>
</html>
